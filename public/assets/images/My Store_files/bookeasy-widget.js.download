(()=>{var __webpack_modules__={503:e=>{let t=e.exports={addCartAddSubmitClickListener:function(e,t,o,a=void 0){let i=e.querySelectorAll("button,input");if(i&&i.length||!a||(i=document.querySelectorAll(a)),i&&i.length)for(let e=0;e<i.length;e++)(a||"add"===i[e].getAttribute("name")||"submit"===i[e].getAttribute("type"))&&(o?.productId&&i[e].setAttribute("bookeasy-button-id",o.productId),"true"!==i[e].getAttribute("bookeasy-listener")&&(i[e].setAttribute("bookeasy-listener","true"),i[e].addEventListener?i[e].addEventListener("click",(function(o){t(o,i[e])}),!0):i[e].attachEvent("onclick",(function(o){t(o,i[e])}),!0)))},changeAddToCartButtonName:function(e,t=void 0){let o=e.querySelectorAll("button,input");if(o)for(let e=0;e<o.length;e++)"add"!==o[e].getAttribute("name")&&"submit"!==o[e].getAttribute("type")||(o[e].innerHTML=t||"Schedule Your Time",o[e].disabled=!0)},enableAddToCartBtn:function(e){let t=e.querySelectorAll("button,input");if(t)for(let e=0;e<t.length;e++)"add"!==t[e].getAttribute("name")&&"submit"!==t[e].getAttribute("type")||t[e].disabled&&(t[e].disabled=!1)},disableAddToCartBtn:function(e){let t=e.querySelectorAll("button,input");if(t)for(let e=0;e<t.length;e++)"add"!==t[e].getAttribute("name")&&"submit"!==t[e].getAttribute("type")||(t[e].disabled=!0)},hideAddToCartBtn:function(e,t=void 0){let o=e.querySelectorAll("button,input");if(o&&o.length||!t||(o=document.querySelectorAll(t)),o)for(let e=0;e<o.length;e++)(t||"add"===o[e].getAttribute("name")||"submit"===o[e].getAttribute("type"))&&(o[e].style.display="none")},addBookeasyBtn:function(e,o,a,i,n){let r=i&&i.multiLanguageTranslations&&i.multiLanguageTranslations[n]&&i.multiLanguageTranslations[n].bookeasyButtonText?i.multiLanguageTranslations[n].bookeasyButtonText:o;t.removeBookeasyBtns(e);let s=e.querySelectorAll("button,input"),d=`<div class="bookeasy-button-container" style="display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;"><button type="button" style="margin: 10px 0;\n        width:${i?.buttonWidth?i.buttonWidth+"%":"100%"};\n        height:${i?.buttonHeight?i.buttonHeight+"px":"45px"};\n        background: ${i?.buttonBackgroundColor?i.buttonBackgroundColor:"transparent"};\n        border-radius: ${i?.buttonBorderRadius?i.buttonBorderRadius+"px":"0px"};\n        color : ${i?.buttonTextColor?i.buttonTextColor:"black"};\n        font-size: ${i?.buttonFontSize?i.buttonFontSize+"px":"15px"};\n        font-weight: ${i?.buttonFontWeight?i.buttonFontWeight:"inherit"};\n        font-family: ${i?.buttonFontFamily?i.buttonFontFamily:"inherit"};\n        cursor: pointer;\n        border: 1px solid black;" class="bookeasy-btn bookeasy-btn-${a.productId}" data-product-id=${a.productId} data-variant-id="${a.variantId}" data-title="${a.title}" data-variant-name="${a.variantName}" data-price=${a.price}><span class="bookeasy-button-text">${r||"Book your slot"}</span></button></div>`;if(s)for(let e=0;e<s.length;e++)"add"!==s[e].getAttribute("name")&&"submit"!==s[e].getAttribute("type")||s[e].insertAdjacentHTML("beforebegin",d)},addBookeasyBtnListener:function(e,o){let a=e.querySelectorAll(".bookeasy-btn");if(a)for(let e=0;e<a.length;e++)"true"!==a[e].getAttribute("bookeasy-listener")&&(a[e].setAttribute("bookeasy-listener","true"),a[e].addEventListener?a[e].addEventListener("click",(function(t){o(t,a[e])}),!0):a[e].attachEvent("onclick",(function(t){o(t,a[e])}),!0));t.enableAddToCartBtn(e)},removeBookeasyBtns:function(e){let t=e?e.querySelectorAll(".bookeasy-button-container"):document.querySelectorAll(".bookeasy-button-container");if(t&&t.length)for(let e of t)e.remove()},renameBookeasyBtnsText:function(e,t,o){let a=t&&t.multiLanguageTranslations&&t.multiLanguageTranslations[o]&&t.multiLanguageTranslations[o].bookeasyButtonText?t.multiLanguageTranslations[o].bookeasyButtonText:e,i=document.querySelectorAll(".bookeasy-button-text");if(i&&i.length)for(let e of i)e.innerText=a||"Book your slot"},bookeasyErrorMessage:function(e=void 0,t,o=!1){let a,i=document.querySelectorAll(".bookeasy-button-error-message");if(i&&i.length)for(let e of i)e.remove();if(!o){let e=document.querySelectorAll("#bookeasy-product-properties");if(e&&e.length)for(let t of e)t.remove()}if(t){let e=`.bookeasy-btn-${t}`;a=document.querySelectorAll(e)}else a=document.querySelectorAll(".bookeasy-btn");if(a&&a.length){let t=`<p class="bookeasy-button-error-message" style="margin-bottom: 10px; color: red;">${e||"Please select a date and time to proceed"}</p>`;for(let e of a)e.insertAdjacentHTML("afterend",t)}},showLoadingSpinner:function(e){let t=document.querySelectorAll(".bookeasy-btn");if(t&&t.length)for(let o of t)o.getAttribute("data-product-id")===e&&(o.querySelector(".bookeasy-button-text").classList.add("hidden"),o.classList.add("bookeasy-button-loading"))},removeLoadingSpinner:function(){let e=document.querySelectorAll(".bookeasy-btn");if(e&&e.length){let t=document.querySelectorAll(".bookeasy-button-text");for(let e of t)e.classList.remove("hidden");for(let t of e)t.classList.remove("bookeasy-button-loading")}},hideShopifyPaymentButton:function(e){if(e){let t=e.querySelectorAll(".shopify-payment-button");t&&t.length&&t.forEach((e=>{e.style.display="none"}))}}}},809:(e,t,o)=>{const a=o(395),i=o(462),n=o(503);e.exports={bookeasyWidgetLib:function(){let e,t,o={};function r(e,t,o,a=null){const n=a?a.productId:o,r=a?`data-variant-id="${a.variantId}" data-title="${a.title}" data-variant-name="${a.variantName}" data-price=${a.price}`:"";let s=e&&e.multiLanguageTranslations&&e.multiLanguageTranslations[i.getCurrentLocale()]&&e.multiLanguageTranslations[i.getCurrentLocale()].bookeasyButtonText?e.multiLanguageTranslations[i.getCurrentLocale()].bookeasyButtonText:t;return`<div class="bookeasy-button-container" style="display: flex;\n                    flex-direction: column;\n                    justify-content: center;\n                    align-items: center;"><button type="button" style="margin: 10px 0;\n                    width:${e?.buttonWidth?e.buttonWidth+"%":"100%"};\n                    height:${e?.buttonHeight?e.buttonHeight+"px":"45px"};\n                    background: ${e?.buttonBackgroundColor?e.buttonBackgroundColor:"transparent"};\n                    border-radius: ${e?.buttonBorderRadius?e.buttonBorderRadius+"px":"0px"};\n                    color : ${e?.buttonTextColor?e.buttonTextColor:"black"};\n                    font-size: ${e?.buttonFontSize?e.buttonFontSize+"px":"1.5rem"};\n                    font-weight: ${e?.buttonFontWeight?e.buttonFontWeight:"inherit"};\n                    font-family: ${e?.buttonFontFamily?e.buttonFontFamily:"inherit"};\n                    cursor: pointer;\n                    border: 1px solid black;" class="bookeasy-btn bookeasy-btn-${n}" data-product-id=${n} ${r}><span class="bookeasy-button-text">${s||"Book your slot"}</span></button></div>`}function s(o,r){if(void 0!==e&&e<Number(i.getProductQuantity())){let t=i?.appearance?.multiLanguageTranslations?.[i?.getCurrentLocale()]?.productQuantityErrorMessage||i?.appearance?.productQuantityErrorMessage;const o=0===e?"This product cannot be added to the cart.":t?t.replace("{{productQuantity}}",e):`Add quantity lesser or equal to ${e}`;return n.bookeasyErrorMessage(o,void 0,!0),!1}let s=r||o.srcElement;if(i.isValidProductAndVariant||i.isServicewithoutProducts){o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopImmediatePropagation&&o.stopImmediatePropagation();let e=document.querySelectorAll(".bookeasy-button-error-message");if(e&&e.length)for(let t of e)t.remove();t=i.getProductQuantity(),function(e){let t=document.querySelector("bookeasy-widget");t.style.display="flex",document.body.style.overflow="hidden";let o=document.querySelector(".bookeasy-widget-container-v2");o&&o.classList.remove("bookeasy-widget-hide");t.input=void 0,n.renameBookeasyBtnsText(i.bookeasyButtonText,i.appearance,i.getCurrentLocale()),a.removeProductProperties(),i.bookingPayload=void 0,i.selectedDateAndTime=void 0,i.isProceedAddToCart=!1,e.getAttribute("data-product-id")&&(i.isValidProductAndVariant=!0,i.selectedProductId=e.getAttribute("data-product-id"),i.selectedVariantId=e.getAttribute("data-variant-id"),i.selectedProductName=e.getAttribute("data-title"),i.selectedVariantName=e.getAttribute("data-variant-name"),i.selectedProductPrice=e.getAttribute("data-price"),i.selectedServiceId=e.getAttribute("data-product-id"));i.sendEvents("bookeasy_button_clicked",{current_page:window?.location?.href}),i.updateSetupAndSlotsInBookeasyWidget(Shopify.shop)}(s)}}function d(e,t){let a,n=i?.appearance?.multiLanguageTranslations?.[i?.getCurrentLocale()]?.reservationTextAndTranslations?.timerMessage||i?.appearance?.reservationTextAndTranslations?.timerMessage;if(e.items.forEach(((e,o)=>{if(e.properties&&e.properties["_bookeasy-app-loaded-timestamp"]){let{minutes:n,seconds:r}=l(Number(e.properties["_bookeasy-app-loaded-timestamp"]));n>Number(t)?i.removeFromCart(o+1,e.title,e.id):(!a||Number(a)>Number(e.properties["_bookeasy-app-loaded-timestamp"]))&&(a=Number(e.properties["_bookeasy-app-loaded-timestamp"]))}})),a){let{minutes:e,seconds:r}=l(a);e<Number(t)&&function(e,t,a,n,r){let s=`<div class="bookeasy-reservation-timer-container">\n                <div class="bookeasy-reservation-timer-content">\n                        <span class="bookeasy-reservation-timer-message">${t||"Appointment reserved until"}  <span class="bookeasy-reservation-timer-minutes"> ${String(a-n).padStart(2,"0")}</span><span class="bookeasy-reservation-timer-semi-colon">:</span><span class="bookeasy-reservation-timer-seconds">${String(59-r).padStart(2,"0")}s</span></span>\n                </div>\n            </div>`;document.querySelector(".bookeasy-reservation-timer-container")||document.body.insertAdjacentHTML("beforeend",s);window.bookeasy&&window.bookeasy.calcReservationTimeId&&clearInterval(window.bookeasy.calcReservationTimeId);var d=setInterval((function(){let{minutes:t,seconds:n}=l(e),r=document.querySelector(".bookeasy-reservation-timer-minutes"),s=document.querySelector(".bookeasy-reservation-timer-seconds");if(r&&(r.innerHTML=String(a-t).padStart(2,"0")),s&&(s.innerHTML=`${String(59-n).padStart(2,"0")}s`),a-t<0){i.getCartDetails().then((t=>{if(t&&t.items&&t.items.length){if(!!t.items.find((e=>e.properties&&e.properties["_bookeasy-app-loaded-timestamp"]))){let a,n,r,s;t.items.find(((t,o)=>{if(t.properties&&t.properties["_bookeasy-app-loaded-timestamp"]&&Number(t.properties["_bookeasy-app-loaded-timestamp"])===e)return a=o,n=t.handle,s=t.id,r=t.title,!0}))&&void 0!==a&&i.removeFromCart(a+1,r,s).then((e=>{e&&o.getProductsWithBookeasyTimeStamp()}))}}}));let t=document.querySelector(".bookeasy-reservation-timer-container");t&&t.remove(),clearInterval(d)}}),1e3);window.bookeasy&&(window.bookeasy.calcReservationTimeId=d)}(a,n,Number(t)-1,e,r)}}function l(e){let t=new Date,o=new Date(e),a=Math.floor((t-o)/1e3),i=Math.floor(a/60),n=Math.floor(i/60),r=Math.floor(n/24);return n-=24*r,i=i-24*r*60-60*n,a=a-24*r*60*60-60*n*60-60*i,{minutes:i,seconds:a}}return o.render=function(t,d,l,c,u,p){i.isProceedAddToCart=!1,i.isValidProductAndVariant=!1,i.selectedDateAndTime=void 0,n.removeBookeasyBtns(l),a.removeProductProperties();let m=a.getProductCartAddForms(l);m&&m.length&&(n.disableAddToCartBtn(m[0]),i.createCustomEvent("bookeasy-disable-add-to-cart-btn",{type:"bookeasy-loaded-initial-disable",cartAddForm:m[0]})),i.checkIsProductAvailableForService(t,d,u,p).then((t=>{let d=i.getSetup()?.setup;if(t&&!t.isOutOfStock){e=i.maximumProductQuantityPerAppointment?Number(i.maximumProductQuantityPerAppointment):void 0;let a=i.appearance,u=i.isMobile(),g=u&&a?.melementSelectorPosition||a?.elementSelectorPosition,y=u&&a?.melementSelector||a?.elementSelector;if(i.makeBookeasyBtnOptional=t?.makeBookeasyBtnOptional,p&&"withoutProducts"===t.serviceBy){let e=p.getAttribute("serviceId"),t=r(a,i.bookeasyButtonText,e,void 0);p.innerHTML=t,i.createCustomEvent("bookeasy-render-bookeasy-btn",{type:"bookeasy-without-product",bookeasyBtn:document.querySelector(".bookeasy-btn.bookeasy-btn-"+e)}),n.addBookeasyBtnListener(document,s)}else if(a&&g&&""!==g&&y&&document.querySelectorAll(y).length&&"withProducts"===t.serviceBy){let e=l?l.querySelectorAll(y):document.querySelectorAll(y),o=r(a,i.bookeasyButtonText,void 0,t);if(e&&e.length)for(let a of e)a.insertAdjacentHTML(g,o),i.createCustomEvent("bookeasy-render-bookeasy-btn",{type:"bookeasy-with-product-custom-selector",bookeasyBtn:document.querySelector(".bookeasy-btn.bookeasy-btn-"+t.productId)});n.addBookeasyBtnListener(document,s)}else m&&m.length&&(n.addBookeasyBtn(m[0],i.bookeasyButtonText,t,a,i.getCurrentLocale()),i.createCustomEvent("bookeasy-render-bookeasy-btn",{type:"bookeasy-with-product-default-selector",bookeasyBtn:document.querySelector(".bookeasy-btn.bookeasy-btn-"+t.productId)}),n.addBookeasyBtnListener(m[0],s));d?.details?.settings?.isImmediateModeEnabled&&n.hideAddToCartBtn(m[0],c||a?.atcSelector),m&&m.length?(m[0].setAttribute("bookeasy-form-id",t.productId),n.addCartAddSubmitClickListener(m[0],o.handleAddToCart,t,c||a?.atcSelector),i.addBuyNowListener&&setTimeout((()=>{n.hideShopifyPaymentButton(m[0])}),500)):(a.atcSelector||c)&&n.addCartAddSubmitClickListener(document,o.handleAddToCart,t,c||a?.atcSelector)}else if(a.isProductPage()&&(i.isValidProductAndVariant=!1),m&&m.length){if(t?.isOutOfStock&&d?.details?.settings?.disableAddToCartWhenOutOfStock)return void i.createCustomEvent("bookeasy-disable-add-to-cart-btn",{type:"bookeasy-product-not-available",cartAddForm:m[0]});n.enableAddToCartBtn(m[0]),i.createCustomEvent("bookeasy-enable-add-to-cart-btn",{type:"bookeasy-service-not-available-product",cartAddForm:m[0]})}})).catch((e=>{console.log("Error while check product availability",e),m&&m.length&&(n.enableAddToCartBtn(m[0]),i.createCustomEvent("bookeasy-enable-add-to-cart-btn",{type:"bookeasy-error-check-product-availability",cartAddForm:m[0]}))}))},o.handleAddToCart=function(r,s){if(i.makeBookeasyBtnOptional&&!i.isCompletedProcess)return!0;if(i.preventATCClick&&i.checkForIntegratedApps(r,s))return i.preventATCClick=!1,!0;let d=r?.srcElement?.attributes&&r.srcElement.attributes["bookeasy-button-id"]?r.srcElement.attributes["bookeasy-button-id"].value:r.srcElement.parentNode?r.srcElement.parentNode.closest("[bookeasy-button-id]").getAttribute("bookeasy-button-id"):void 0;if(void 0!==e&&e<Number(i.getProductQuantity())){i.isProceedAddToCart=!1,i.preventEvent(r);let t=i?.appearance?.multiLanguageTranslations?.[i?.getCurrentLocale()]?.productQuantityErrorMessage||i?.appearance?.productQuantityErrorMessage;const o=0===e?"This product cannot be added to the cart.":t?t.replace("{{productQuantity}}",e):`Add quantity lesser or equal to ${e}`;return n.bookeasyErrorMessage(o,d,!0),!1}if(i.selectedService&&i.selectedService.includeQuantityForCapacityCalculation&&void 0!==t&&Number(t)!==Number(i.getProductQuantity())){i.preventEvent(r);let e=i?.appearance?.multiLanguageTranslations?.[i?.getCurrentLocale()]?.includeProductQuantityErrorMessage||i?.appearance?.includeProductQuantityErrorMessage;return n.bookeasyErrorMessage(e||"The quantity has been modified. Kindly choose the time slot again.",d,!0),!1}if(i.isValidProductAndVariant&&!i.isProceedAddToCart)if(i.preventEvent(r),i.bookingPayload){if(d!==i.bookingPayload.productId)return i.preventEvent(r),n.bookeasyErrorMessage(i.bookeasyErrorMessage,d),!1;n.showLoadingSpinner(d),i.verifyDateAndTime(Shopify.shop,i.bookingPayload).then((e=>{"true"===e?i.saveBookingDetails(Shopify.shop,i.bookingPayload).then((e=>{if(e){i.isProceedAddToCart=!0,(s||r.srcElement).click(),i.preventATCClick=!0,i.makeBookeasyBtnOptional&&i.isCompletedProcess&&(a.removeProductProperties(),i.isCompletedProcess=!1),setTimeout((()=>{o.getProductsWithBookeasyTimeStamp()}),1e3)}else i.isProceedAddToCart=!1,n.removeLoadingSpinner(),n.bookeasyErrorMessage(i.appearance&&i.appearance.slotsTextAndTranslations&&i.appearance.slotsTextAndTranslations.slotBookedErrorText?i.appearance.slotsTextAndTranslations.slotBookedErrorText:"That slot is no longer available, try selecting another date and time.",d)})):(i.isProceedAddToCart=!1,n.removeLoadingSpinner(),n.bookeasyErrorMessage(i.appearance&&i.appearance.slotsTextAndTranslations&&i.appearance.slotsTextAndTranslations.slotBookedErrorText?i.appearance.slotsTextAndTranslations.slotBookedErrorText:"That slot is no longer available, try selecting another date and time.",d))}))}else if(i.selectedVariantId&&i?.cartDetails?.items.length&&i?.cartDetails?.items.find((e=>e.variant_id===i.selectedVariantId))){let e=i?.appearance?.multiLanguageTranslations?.[i?.getCurrentLocale()]?.addedAppointmentErrorMessage||i?.appearance?.addedAppointmentErrorMessage;n.bookeasyErrorMessage(e||"Appointment added to the cart. Please select a date and time for another booking.",d)}else n.bookeasyErrorMessage(i.bookeasyErrorMessage,d);else if(i.selectedDateAndTime&&i.bookingPayload){let e=!1;if(d!==i.bookingPayload.productId)return i.preventEvent(r),n.bookeasyErrorMessage(i.bookeasyErrorMessage,d),!1;let t=i.selectedService?.isMultiDayserviceEnabled,o=i.selectedService?.increaseProductPrice,a=i.selectedService?.isSingleDayChargeEnabled,s=i.selectedService?.multipliedProductPrice,l=i.selectedService?.maximumProductQuantityPerAppointment;if(i.selectedLocation&&i.selectedLocation.id){let e=i.getSetup(),n=e&&e.setup&&e.setup.details&&e.setup.details.locations&&e.setup.details.locations.length?e.setup.details.locations.find((e=>e.id===i.selectedLocation.id)):void 0;n&&i.selectedService.isSetupFrom&&(e.setup.details.settings.isPredefinedSlotsEnabled?"location"===i.selectedService.isSetupFrom.preDefinedSlots:"location"===i.selectedService.isSetupFrom.availability)&&(t=n.isMultiDayserviceEnabled,o=n.increaseProductPrice,a=n.isSingleDayChargeEnabled,s=n.multipliedProductPrice)}if(t&&i.selectedDateAndTime?.date?.length>1&&(o||s)){let t,n=i.selectedDateAndTime?.date?.length;a&&n>1&&(n-=1),i.appearance?.quantityInputElementSelector&&(t=document.querySelectorAll(i.appearance?.quantityInputElementSelector));let r=document.querySelectorAll("input[name='quantity']");if(t&&t.length)for(let a of t)e=!0,o?a.value=n:s&&(a.value=n*a.value);else if(r&&r.length)for(let t of r)e=!0,o?t.value=n:s&&(t.value=n*t.value)}let c=document.querySelectorAll("#bookeasy-product-properties");if(c&&c.length)for(let t of c)t.insertAdjacentHTML("beforeend",i.getProductPropertyHTML("bookeasy-app-loaded-timestamp","_bookeasy-app-loaded-timestamp",(new Date).valueOf())),t.insertAdjacentHTML("beforeend",i.getProductPropertyHTML("bookeasy-product-quantity","_bookeasy-product-quantity",Number(i.getProductQuantity()))),e&&t.insertAdjacentHTML("beforeend",i.getProductPropertyHTML("bookeasy-custom-price-product","_bookeasy-custom-price-product","true")),l&&""!==l&&t.insertAdjacentHTML("beforeend",i.getProductPropertyHTML("bookeasy-maximum-quantity-per-session","_bookeasy-maximum-quantity-per-session",Number(l)));n.removeLoadingSpinner(),i.sendEvents("bookeasy_product_added_to_cart",{current_page:window?.location?.href,booking_id:i.bookingPayload?.id})}},o.getProductsWithBookeasyTimeStamp=function(){i.getCartDetails().then((e=>{if(i.cartDetails=e,e&&e.items&&e.items.length){!!e.items.find((e=>e.properties&&e.properties["_bookeasy-app-loaded-timestamp"]))&&(i.reservationTime?d(e,i.reservationTime):i.getAvailableServices(Shopify.shop).then((t=>{t&&t.reservationTime&&d(e,t.reservationTime)})))}else{let e=document.querySelector(".bookeasy-reservation-timer-container");e&&e.remove()}}))},o}}},453:e=>{e.exports={HOST_NAME:"https://bookeasy.logbase.io",STOREFRONT_API_VERSION:"2025-07",IS_LOGS_REQUIRED:"true"}},395:e=>{e.exports={isProductPage:function(){return-1!==window.location.pathname.indexOf("/products/")},getProductCartAddForms:function(e){let t=[],o=e?e.querySelectorAll("form"):document.querySelectorAll("form");if(o)for(let e=0;e<o.length;e++)if("post"===o[e].method&&"string"==typeof o[e].action&&(o[e].action.endsWith("/cart/add")||o[e].action.endsWith("/cart/add/")||o[e].action.indexOf("/cart/add?")>-1)){let a=o[e].querySelectorAll("button,input");for(let i=0;i<a.length;i++)if("add"===a[i].name||"submit"===a[i].type){t.push(o[e]);break}}return t&&t.length?t:void 0},removeProductProperties:function(){let e=document.querySelectorAll("#bookeasy-product-properties");if(e&&e.length)for(let t of e)t.remove()}}},462:(module,__unused_webpack_exports,__webpack_require__)=>{const config=__webpack_require__(453),productUtils=__webpack_require__(395),addToCartHandler=__webpack_require__(503),HOST_NAME=config.HOST_NAME,IS_LOGS_REQUIRED="true"===config.IS_LOGS_REQUIRED;let setup,_utils=module.exports={selectedProductId:void 0,selectedVariantId:void 0,selectedProductName:void 0,selectedProductPrice:void 0,selectedVariantName:void 0,isValidProductAndVariant:void 0,isProceedAddToCart:void 0,bookeasyButtonText:void 0,bookeasyErrorMessage:void 0,selectedDateAndTime:void 0,bookingPayload:void 0,bookeasyProducts:[],availableServices:void 0,reservationTime:void 0,appearance:void 0,cartDetails:void 0,cartBtnElement:void 0,addBuyNowListener:void 0,isCustomJsExecuted:void 0,fromUrlRedirect:void 0,isCustomCSSAppended:void 0,selectedService:void 0,isServicewithoutProducts:void 0,selectedServiceId:void 0,productQuantity:void 0,maximumProductQuantityPerAppointment:void 0,selectedLocation:void 0,makeBookeasyBtnOptional:void 0,isCompletedProcess:void 0,preventATCClick:void 0,bookeasyCustomSlotPriceProducts:void 0,reachedLimit:void 0,log:function(e,t){IS_LOGS_REQUIRED&&console.log(e,t||"")},getHostName:function(){return HOST_NAME},getSetup:function(){return setup},getAppearance:function(){return appearance},getCurrentLocale:function(){return window.Shopify&&window.Shopify.locale?window.Shopify.locale:void 0},getProductQuantity:function(){let e,t;if(window?.lbDealeasy&&(e=getDealEasyQuantity(_utils.selectedVariantId),e>0))return e;this.appearance?.quantityInputElementSelector&&(t=document.querySelector(this.appearance?.quantityInputElementSelector));let o=document.querySelector("input[name='quantity']");return t?e=t.value:o&&(e=o.value),e||1},getSetupAndService:function(e,t,o,a,i=!1,n=void 0,r=void 0){return new Promise(((s,d)=>{let l=`${HOST_NAME}/api/bookeasy/slots`,c=new XMLHttpRequest;c.open("POST",l,!0),c.setRequestHeader("Content-Type","application/json; charset=UTF-8"),c.send(JSON.stringify({myShopifyDomain:e,productId:this.selectedProductId,serviceId:this.selectedServiceId,variantId:this.selectedVariantId,selectedMonth:t,selectedYear:o,teamMemberId:n,locationId:r,selectedMonthDate:a,isFromDirectLink:i,isMonthWisePreparationEnabled:!0,productQuantity:_utils.productQuantity||_utils.getProductQuantity()||1,currentPageURL:window.location.href,userAgent:window.navigator.userAgent})),c.onload=()=>{if(200===c.status){let e=JSON.parse(c.responseText);_utils.setSetup(e),s(e)}else d(void 0)},c.onerror=()=>{d(void 0)}}))},getProductHandle:function(){const e=window.location.pathname.split("/");let t=e&&e.length&&e[e.length-1];return t.length>0?t:_utils.getURLParam("products",window.location.href)},getURLParam:function(e,t){try{const o={products:/\/products\/([^/?]*)/,variant:/\/variant\/([^/?]*)/};if(e&&t&&"string"==typeof t){let a=t.includes("https://")||t.includes("http://")?t:`https://${window.location.hostname}${t}`,i=new URL(a);const n=new URLSearchParams(i.search);if(n.has(e))return n.get(e);let r=o[e];const s=t.match(r);return s?decodeURI(s[1]):void 0}return}catch(e){return void console.error("getUrlParams",e)}},getRootRoute:function(){return window.Shopify&&window.Shopify.routes?window.Shopify.routes.root:void 0},getProductRequestURL:function(e){let t=_utils.getRootRoute(),o=`https://${window.location.hostname}/products/${e}.js`;return t&&"/"!==t&&(o=`https://${window.location.hostname}${t}products/${e}.js`),o},getVariantIdFromURL:function(){if(""!==window.location.search){const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});return e.variant?e.variant:void 0}},getAvailableServices:function(e){return new Promise(((t,o)=>{if(localStorage.getItem("bookeasy-setup")){let o=JSON.parse(localStorage.getItem("bookeasy-setup"));t(_utils.processSetup(o));let a=new XMLHttpRequest;a.open("POST",`${HOST_NAME}/api/bookeasy/validate/localSetup`,!0),a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.send(JSON.stringify({myShopifyDomain:e,servicesUpdatedAt:o.servicesUpdatedAt,setupUpdatedAt:o.setupUpdatedAt,subscriptionUpdatedAt:o.subscriptionUpdatedAt})),a.onload=()=>{if(200===a.status){JSON.parse(a.responseText).clearLocalSetup&&localStorage.removeItem("bookeasy-setup")}},a.onerror=()=>{localStorage.removeItem("bookeasy-setup")}}else{let a=`${HOST_NAME}/api/availableServices?myShopifyDomain=${e}`,i=new XMLHttpRequest;i.open("GET",a,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.send(),i.onload=()=>{if(200===i.status){let e=JSON.parse(i.responseText);e.clearLocalSetup||localStorage.setItem("bookeasy-setup",JSON.stringify(e)),t(_utils.processSetup(e))}else o(void 0)},i.onerror=()=>{o(void 0)}}}))},getProduct:function(e){return new Promise(((t,o)=>{const a=_utils.getProductRequestURL(e);var i=new XMLHttpRequest;i.open("GET",a,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.send(),i.onload=()=>{200===i.status?t(JSON.parse(i.responseText)):t(void 0)},a.onerror=()=>{o(void 0)}}))},addProduct:function(e,t,o,a=!1,i=void 0){let{sellingPlanId:n,preventAddProduct:r}=_utils.invokeIntegrationFunctions(e,t,o,a);if(!r)return new Promise(((a,r)=>{let s=getDealEasyAttributes(),d={items:[{id:e,quantity:o||1,properties:t,selling_plan:n}]};for(let e of s)e.name.includes("[id]")&&d.items.push({id:e.value,quantity:getDealEasyQuantity(e.value,s),selling_plan:n});if(i){i?.addCustomSlotProductOnly&&(d.items=[]);let{productId:e,quantity:o}=_utils.getProductIdAndQuantity(i.price);e&&o&&d.items.push({id:e,quantity:o,properties:t,selling_plan:n})}if(d?.items?.length){const e=`https://${window.location.hostname}/cart/add.js`;var l=new XMLHttpRequest;l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/json; charset=UTF-8"),l.send(JSON.stringify(d)),l.onload=()=>{200===l.status?(_utils.invokeImmediateModeAction(JSON.parse(l.responseText)),a(JSON.parse(l.responseText))):(_utils.invokeImmediateModeAction(void 0),a(void 0))},e.onerror=()=>{r(void 0)}}else a(void 0)}))},getCartDetails:function(){return new Promise(((e,t)=>{try{var o=new XMLHttpRequest;o.open("GET",`https://${window.location.hostname}/cart.js`,!0),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.send(),o.onload=()=>{200===o.status?e(JSON.parse(o.responseText)):e(void 0)}}catch(e){console.log("Error while getting cart details: ",e),t(void 0)}}))},getAvailableSteps:function(e,t){let o=[];return(e.locations&&e.locations.length&&(!0!==e?.hideLocation||1!==e.locations.length)||e.assignedTeamMembers&&e.assignedTeamMembers.length&&((void 0===e?.hideTeamMember?!0!==t?.details?.settings?.hideTeamMember:!0!==e?.hideTeamMember)||1!==e.assignedTeamMembers.length))&&o.push("L&T"),o.push("D&T"),isFreeServiceEnabled(e,t)&&o.push("FAF"),e.customFields&&e.customFields.length&&e.customFields.find((e=>e.isEnabled))&&o.push("CF"),t?.appUIVersion&&"2.0"===t?.appUIVersion||!(e.isFreeService||e.locations&&e.locations.length||e.assignedTeamMembers&&e.assignedTeamMembers.length||e.customFields&&e.customFields.length&&e.customFields.find((e=>e.isEnabled)))||o.push("C"),e.isFreeService&&o.push("T"),o},getAvailableLocations:function(e,t){let o=[];return e.locations&&e.locations.length&&e.locations.forEach((e=>{let a=t.details.locations.find((t=>t.id===e.id));a&&(void 0===a.isEnabled||a.isEnabled)&&o.push({id:a.id,name:a.name,address:a.address,showOnlyLocationName:a.showOnlyLocationName})})),o},getAvailableTeamMembers:function(e,t){let o=[];return e.assignedTeamMembers&&e.assignedTeamMembers.length&&t&&t.details&&t.details.team&&t.details.team.length&&e.assignedTeamMembers.forEach((e=>{let a=t.details.team.find((t=>t.id===e.id));a&&o.push({id:a.id,name:a.name,specialist:a.specialist,locations:a.locations,locationId:a&&a.locations&&a.locations.length?a.locations[0].id:void 0})})),o},processSetup:function(setup){return setup.appearance&&(this.appearance=setup.appearance,this.bookeasyErrorMessage=this?.appearance?.bookeasyErrorMessage,this?.appearance?.multiLanguageTranslations&&this?.appearance?.multiLanguageTranslations[this.getCurrentLocale()]&&this?.appearance?.multiLanguageTranslations[this.getCurrentLocale()]?.bookeasyErrorMessage&&(this.bookeasyErrorMessage=this?.appearance?.multiLanguageTranslations[this.getCurrentLocale()]?.bookeasyErrorMessage),this.bookeasyButtonText=setup.appearance.bookeasyButtonText,setup.appearance.customCSS&&!_utils.isCustomCSSAppended&&(_utils.isCustomCSSAppended=!0,_utils.appendCustomCSS(setup.appearance.customCSS))),setup.customJs&&setup.customJs.length&&!_utils.isCustomJsExecuted&&(_utils.isCustomJsExecuted=!0,eval(setup.customJs)),this.availableServices=setup.availableServices,this.reservationTime=setup.reservationTime,this.addBuyNowListener=setup.addBuyNowListener,this.smartBookingLists=setup.smartBookingLists,this.reachedLimit=setup.reachedLimit,setup},checkIsProductAvailableForService:function(e,t,o,a,i=void 0){return new Promise(((n,r)=>{let s,d;_utils.getAvailableServices(e).then((r=>{if(void 0===r?.isEnabled||r?.isEnabled)if(a||i)d=i||a.getAttribute("serviceId"),s=r.availableServices.find((e=>e.serviceId===d)),s&&"withoutProducts"===s.serviceBy?(_utils.isServicewithoutProducts=!0,document.querySelectorAll(`#appBlock-${d}`).forEach((e=>{e.style.display="flex"})),n({serviceBy:"withoutProducts",serviceId:d,appearance:r.appearance,reachedLimit:r.reachedLimit})):(console.log("Invalid Appointment Id"),n(!1));else if(productUtils.isProductPage()||t){let e=t||_utils.getProductHandle();_utils.getProduct(e).then((e=>{if(e.available&&e.tags&&e.tags.length&&(e.tags.includes("bookeasy")||e.tags.includes("Bookeasy"))){let t=_utils.getVariantIdFromURL();if(o&&!t&&(t=o),e?.variants?.length){let o=e.variants.find((e=>!(t||!e.available)||(!(!t||Number(e.id)!==Number(t)||!e.available)||void 0)));o?t=o.id:n({isOutOfStock:!0})}let a=_utils.checkIsProductAvailable(r.availableServices,e,t,e.variants);if(a.isProductAvailable){let o=e.variants&&e.variants.length?e.variants.find((e=>Number(e.id)===Number(t))):void 0;n({serviceBy:"withProducts",productId:e.id,variantId:t,serviceId:a.serviceId,title:e.title,makeBookeasyBtnOptional:a.makeBookeasyBtnOptional,variantName:o?.title,price:o?.price?o.price/100:0,reachedLimit:r.reachedLimit})}else n({isOutOfStock:!0})}else n(!1)})).catch((e=>{console.log("Error while getting product",e),n(!1)}))}else _utils.getAvailableServices(e),n(!1);else n(!1)})).catch((e=>{console.log("Error while getting available services",e),r(e)}))}))},appendCustomCSS:function(e){let t=document.getElementById("bookeasy-custom-styles");t&&(t.disabled=!0,t.parentNode.removeChild(t));var o=document.createElement("style");o.id="bookeasy-custom-styles",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(o)},checkIsProductAvailable:function(e,t,o,a){if(e&&e.length)for(let i of e)if(Number(i.productId)===Number(t.id)&&(!i.variants.length||i.variants.find((e=>Number(e)===Number(o))))){let e=a&&a.length?a.find((e=>Number(e.id)===Number(o))):void 0;return _utils.isValidProductAndVariant=!0,_utils.selectedProductId=t.id,_utils.selectedVariantId=o,_utils.selectedProductName=t.title,_utils.selectedServiceId=i.serviceId,_utils.maximumProductQuantityPerAppointment=""===i.maximumProductQuantityPerAppointment?void 0:i.maximumProductQuantityPerAppointment,_utils.selectedVariantName=e?.title,_utils.selectedProductPrice=e?.price?e.price/100:0,{isProductAvailable:!0,serviceId:i.serviceId,makeBookeasyBtnOptional:i.makeBookeasyBtnOptional}}return{isProductAvailable:!1,makeBookeasyBtnOptional:!1}},getAvailableDesign:function(){return{locationsTextAndTranslations:{title:"Select location",errorText:"Please select a location ",dropDownPlaceholder:"Select location"},teamTextAndTranslations:{title:"Select team member",errorText:"Please select a team member ",dropDownPlaceholder:"Select team member"},slotsTextAndTranslations:{title:"Select your preferred date & time",errorText:"No slots are available",slotBookedErrorText:"That slot is no longer available, try selecting another date and time.",wentWrongErrorText:"Something went wrong. please try again",durationTypeMins:"Mins",durationTypeHours:"Hours",multiDayMin:"Min Days",multiDayMax:"Max Days",bundleSlots:{title:"Choose {{count}} slots for your bundle session",nextButtonText:"Next Slot",backButtonText:"Confirm Slots",popoverButtonText:"{{count}} / {{maximum}} slots selected",popoverTitle:"Selected slots"}},freeAppointmentFieldsTextAndTranslations:{title:"Enter your details",errorText:"Kindly fill in the {{fieldName}}"},customFieldsTextAndTranslations:{sideMenuBarName:"Customer Info",title:"Other Information",errorText:"Please enter the required Information",dropDownPlaceholder:"Select {{fieldName}}"},confirmationTextAndTranslations:{sideMenuBarName:"Confimation page",title:"Review your details",errorText:"Please enter the required Information",bookingDetails:"Booking Details",customerDetails:"Customer Details",CustomQuestions:"Custom Questions",location:"Selected Location",teamMember:"Selected Team Member",date:"Date",time:"Time",edit:"Edit",slot:"Selected Slot",bundleSlots:"Selected Slots"},thankyouPageTextAndTranslations:{title:"Thanks for Booking",description:"Youâ€™ll receive an email shortly with all the booking details.",notes:"If you have any questions, feel free to contact the store for assistance.."},reservationTextAndTranslations:{timerMessage:"Appointment reserved until",productRemovedMessage:"{{productName}} has been removed from your cart."},translations:{monthJan:"Jan",monthFeb:"Feb",monthMar:"Mar",monthApr:"Apr",monthMay:"May",monthJun:"Jun",monthJul:"Jul",monthAug:"Aug",monthSep:"Sep",monthOct:"Oct",monthNov:"Nov",monthDec:"Dec",dayMon:"Mon",dayTue:"Tue",dayWed:"Wed",dayThu:"Thu",dayFri:"Fri",daySat:"Sat",daySun:"Sun",timeAM:"AM",timePM:"PM"},widgetWidth:"50",widgetHeight:"85",widgetSidebarMenuColor:"rosybrown",widgetBorderRadius:"5",selectedElementBackgroundColor:"black",widgetFontSize:"15",widgetFontColor:"black",sideMenuBarFontSize:"10",sideMenuBarFontColor:"white",nextButtonColor:"black",backButtonColor:"lightgray",nextButtonText:"Next",backButtonText:"Back",addToCartButtonText:"Confirm",confirmButtonText:"Confirm",closeButtonText:"Close",widgetHeaderTitle:"Booking",bookeasyErrorMessage:"Please select a date and time to proceed",addedAppointmentErrorMessage:"Appointment added to the cart. Please select a date and time for another booking",productQuantityErrorMessage:"Add quantity lesser or equal to 2 {{productQuantity}}",multiDayButtonText:"{{count}} days selected",selectedElementFontColor:"white",widgetBackgroundColor:"white",stepCountTranslation:"Step {{currentStep}} of {{totalStep}}",slotsLeftText:"left",bundleSlotsButtonText:"{{count}} slots selected"}},getProductPropertyHTML:function(e,t,o){return`<input id="${e}" type="hidden" name="properties[${t}]" value="${o}">`},getBundleSlotsHTML:function(e){if(e&&e.length){let t="";return e.forEach(((e,o)=>{t+=`<input id="bookeasy-bundle-date-${o}" type="hidden" name="properties[Date #${o+1}]" value="${e.convertedDate?.[0]||e.translatedDate?.[0]}">`,t+=`<input id="bookeasy-bundle-time-${o}" type="hidden" name="properties[Time #${o+1}]" value="${e.convertedTimeSlot||e.translatedTimeSlot}">`})),t+=`<input id="bookeasy-bundle-slots" type="hidden" name="properties[_bookeasy-bundle-slots]" value="${e.length}">`,t}return""},saveBookingDetails:function(e,t,o){return new Promise(((a,i)=>{let n=`${HOST_NAME}/api/bookeasy/reservation`,r=new XMLHttpRequest;r.open("POST",n,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.setRequestHeader("x-verification-token",o),r.send(JSON.stringify({myShopifyDomain:e,details:t,currentPageURL:window.location.href,userAgent:window.navigator.userAgent})),r.onload=()=>{if(200===r.status){let e=JSON.parse(r.responseText);a(e)}else i(void 0)}}))},setSetup:function(e){setup=e},verifyDateAndTime:function(e,t){return new Promise(((o,a)=>{let i=`${HOST_NAME}/api/bookeasy/validateDateAndTime`,n=new XMLHttpRequest;n.open("POST",i,!0),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(JSON.stringify({myShopifyDomain:e,details:t,currentPageURL:window.location.href,userAgent:window.navigator.userAgent})),n.onload=()=>{200===n.status?o(n.responseText):a(void 0)}}))},removeFromCart:function(e,t,o){return new Promise(((a,i)=>{let n=`https://${window.location.hostname}/cart/change.js`,r=new XMLHttpRequest;r.open("POST",n,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.send(JSON.stringify({line:e,quantity:0})),r.onload=()=>{200===r.status?(_utils.removedBookeasyProductMessage(t,o),("/cart"===window.location.pathname||window.bookeasy.pathname)&&window.location.reload(),a(!0)):i(void 0)}}))},removedBookeasyProductMessage:function(e,t){let o=_utils.appearance,a=o?.multiLanguageTranslations?.[_utils.getCurrentLocale()]?.reservationTextAndTranslations?.productRemovedMessage||o?.reservationTextAndTranslations?.productRemovedMessage,i=a?a.replace("{{productName}}",e):`${e} is removed from the cart.`,n=`<div class="bookeasy-removed-product-toast-container" id="bookeasy-removed-product-toast-container-${t}">\n            <div class="bookeasy-removed-product-toast-content">\n                <span class="bookeasy-removed-product-toast-message">${i}</span>\n                <span class="bookeasy-removed-product-toast-message-close" id="${t}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path opacity="0" d="M24 24H0V0h24z" /><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 1 0 1.42 1.42l4.29-4.3 4.29 4.3a1 1 0 1 0 1.42-1.42z" /></svg></span>\n            </div>\n        </div>`;document.body.insertAdjacentHTML("beforeend",n),setTimeout((()=>{let e=document.querySelector(".bookeasy-removed-product-toast-message-close");e&&e.addEventListener("click",(()=>{let t=e.getAttribute("id");t&&_utils.removeBookeasyProductMessageHTMLElement(`bookeasy-removed-product-toast-container-${t}`)}),!0)}),500),setTimeout((()=>{_utils.removeBookeasyProductMessageHTMLElement(`bookeasy-removed-product-toast-container-${t}`)}),3e3)},removeBookeasyProductMessageHTMLElement:function(e){let t=document.getElementById(e);t&&t.remove()},deleteBookingFromReservation:function(e,t=[]){let o=!1;if(t&&t.length)for(let a of t)if(a.properties&&a.properties["_bookeasy-booking-id"]&&a.properties["_bookeasy-booking-id"]===e&&a.properties["_bookeasy-bundle-slots"]){o=!0;break}return new Promise(((t,a)=>{let i=`${HOST_NAME}/api/bookeasy/reservation/delete?id=${e}&myShopifyDomain=${Shopify.shop}&isBundleBookingProduct=${o}`,n=new XMLHttpRequest;n.open("DELETE",i,!0),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(),n.onload=()=>{if(200===n.status){let e=JSON.parse(n.responseText);t(e)}else a(void 0)},n.onerror=()=>{a(void 0)}}))},updateSetupAndSlotsInBookeasyWidget:function(e,t=void 0){let o=document.querySelector("bookeasy-widget");o?.clearState(),_utils.getSetupAndService(e).then((e=>{_utils.updateSlotsInBookeasyWidget(e,t)})).catch((e=>{console.log("Error while getting setup and slots: ",e);const t=new CustomEvent("somethingWentWrong");document.querySelector("bookeasy-widget").dispatchEvent(t)}))},updateSlotsInBookeasyWidget:function(e,t=void 0){let o=document.querySelector("bookeasy-widget");_utils.selectedService=e.service;let a=_utils.getAvailableSteps(e.service,e.setup),i=_utils.getAvailableLocations(e.service,e.setup),n=_utils.getAvailableTeamMembers(e.service,e.setup),r={setup:e.setup,service:e.service,slots:e.slots,availableSteps:a,availableLocations:i,availableTeamMembers:n,availableDesign:e&&e.setup&&e.setup.details&&e.setup.details.appearance?{...e.setup.details.appearance,...e.setup.details.appearance.multiLanguageTranslations&&e.setup.details.appearance.multiLanguageTranslations[_utils.getCurrentLocale()]?e.setup.details.appearance.multiLanguageTranslations[_utils.getCurrentLocale()]:void 0}:_utils.getAvailableDesign(),productName:this.selectedProductName,selectedDateAndTime:this.selectedDateAndTime,productQuantity:this.getProductQuantity()||1};o&&(o.input=r,o.internalLoading=!1,o.quantity=_utils.productQuantity,o.countryCode=Shopify?.country,"smart-booking-list"==t&&(o.style.display="flex",document.body.style.overflow="hidden"))},preventEvent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation&&e.stopImmediatePropagation()},getBookeasyIds:function(e){let t=[];for(let o of e)o.properties&&o.properties["_bookeasy-booking-id"]&&t.push(o.properties["_bookeasy-booking-id"]);return t},registerListeners:function(){var e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(t,o,a,i,n){return this.addEventListener("load",(async function(){let e,t=this.status,a=this;if(422===t&&(e=await getResponseFromRequest("xml",a)),"string"==typeof o){let a=o.split("?");if(a&&a.length&&["/cart/add.js","/cart/update.js","/cart/change.js","/cart/clear.js","/cart/add","/cart/update","/cart/change","/cart/clear"].find((e=>a[0].includes(e)))){let o=["/cart/add.js","/cart/add"].find((e=>a[0].includes(e)));if(_utils.isSafari()&&o)try{let a=await _utils.getCartDetails(),i=o&&422===t;_utils.resetTheBookingDetails(a,i,i,e)}catch(e){console.log("Error while getting cart details: ",e)}else _utils.getCartDetails().then((async a=>{let i=o&&422===t;_utils.resetTheBookingDetails(a,i,i,e)}))}}})),e.apply(this,arguments)};var t=fetch;fetch=async function(e,o){var a=t(e,o);let i,n=await a,r=n?.status;if(422===r&&(i=await getResponseFromRequest("fetch",n)),"string"==typeof e){let t=e.split("?");if(t&&t.length&&["/cart/add.js","/cart/update.js","/cart/change.js","/cart/clear.js","/cart/add","/cart/update","/cart/change","/cart/clear"].find((e=>t[0].includes(e)))){let e=["/cart/add.js","/cart/add"].find((e=>t[0].includes(e)));if(_utils.isSafari()&&e)try{let t=await _utils.getCartDetails(),o=e&&422===r;_utils.resetTheBookingDetails(t,o,o,i)}catch(e){console.log("Error while getting cart details: ",e)}else _utils.getCartDetails().then((async t=>{let o=e&&422===r;_utils.resetTheBookingDetails(t,o,o,i)}))}}return a}},bookingLinkElementListener:function(){document.querySelectorAll('[href*="bookeasy-type=product"], [href*="bookeasy-type=without-product"]').forEach((e=>{e.setAttribute("bookeasy-listener","true"),e.addEventListener("click",(t=>{if(_utils.reachedLimit){if(_utils.reachedLimit?.isDirectLinkDisabled)return;t.preventDefault(),t.stopPropagation();let o=document.querySelector("bookeasy-widget"),a=document.querySelector(".bookeasy-widget-container-v2");a&&a.classList.remove("bookeasy-widget-hide"),o.input=void 0,o.style.display="flex",document.body.style.overflow="hidden",_utils.urlListener(e.href,!1)}}),!0)})),_utils.isDirectLinkListenerAdded=!0},urlListener:function(e,t=!0){const o=new URLSearchParams(e.split("?")[1]),a=o.get("bookeasy-type"),i=o.get("bookeasy-id"),n=o.get("smartBookingText"),r=o.get("redirect-to")||void 0;if(a&&i){"product"===a?_utils.getTheProductDetails([i]).then((e=>{_utils.setProductDetailsFromUrl(e[0],!0,r,t?"url":"button")})):"without-product"===a?_utils.setProductDetailsFromUrl({id:i},!1,void 0,t?"url":"button"):"smartBookingList"!==a&&"service"!==a||_utils.renderSmartBookingList(!0,i,a,n);const o=new URL(e);o.searchParams.delete("bookeasy-type"),o.searchParams.delete("bookeasy-id"),o.searchParams.delete("redirect-to"),window.history.replaceState({},document.title,o.toString())}},setProductDetailsFromUrl:function(e,t,o,a){_utils.checkIsProductAvailableForService(Shopify.shop,e?.productHandle,e?.variantId,void 0,e?.id).then((i=>{if(!i?.reachedLimit?.isDirectLinkDisabled||"url"!==a)if(i&&!i.isOutOfStock){if(t?(_utils.selectedProductId=e.productId,_utils.selectedVariantId=e.variantId,_utils.selectedProductName=e.productTitle,_utils.selectedVariantName=e.variantTitle,_utils.selectedProductPrice=e.variantPrice,_utils.productQuantity=e?.quantity||1,_utils.fromUrlRedirect=o):(_utils.selectedProductId=e.id,_utils.selectedVariantId=void 0,_utils.selectedProductName=void 0,_utils.selectedVariantName=void 0,_utils.selectedProductPrice=void 0),"url"===a||"smart-booking-list"===a){let e=document.querySelector("bookeasy-widget"),t=document.querySelector(".bookeasy-widget-container-v2");t&&t.classList.remove("bookeasy-widget-hide"),"smart-booking-list"!==a&&(e.style.display="flex",document.body.style.overflow="hidden")}_utils.selectedServiceId=e.id,_utils.updateSetupAndSlotsInBookeasyWidget(Shopify.shop,a)}else{let e=document.querySelector("bookeasy-widget");e.input=void 0,e.style.display="none",document.body.style.overflow="auto"}}))},checkBookeasyProductAdded:function(e){if(e&&e.items.length&&_utils.bookingPayload&&_utils.selectedDateAndTime){let t=_utils.getBookeasyIds(e.items);_utils.bookingPayload.id&&t.includes(_utils.bookingPayload.id)&&_utils.resetTheBookingDetails(void 0,!0)}},resetTheBookingDetails:function(e=void 0,t=!1,o=!1,a=void 0){if(t&&_utils?.bookingPayload?.id){if(addToCartHandler.renameBookeasyBtnsText(_utils.bookeasyButtonText,_utils.appearance,_utils.getCurrentLocale()),o){_utils.deleteBookingFromReservation(_utils?.bookingPayload?.id);let e="Error while adding product to cart.";a&&a?.message&&(e=a?.message),addToCartHandler.bookeasyErrorMessage(e)}return _utils.bookingPayload=void 0,_utils.selectedDateAndTime=void 0,_utils.isProceedAddToCart=!1,document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),void setTimeout((()=>{window.bookeasy.bookeasyWidget.getProductsWithBookeasyTimeStamp()}),1e3)}if(_utils.checkBookeasyProductAdded(e),_utils.cartDetails&&_utils.cartDetails.items.length&&e&&e.items.length){let t=_utils.getBookeasyIds(_utils.cartDetails.items),o=_utils.getBookeasyIds(e.items);if(t&&t.length)for(let a of t)o.includes(a)||_utils.deleteBookingFromReservation(a,[...e?.items,..._utils?.cartDetails?.items])}else if(_utils.cartDetails&&_utils.cartDetails.items.length&&e&&0===e.items.length){let t=_utils.getBookeasyIds(_utils.cartDetails.items);for(let o of t)_utils.deleteBookingFromReservation(o,[...e?.items,..._utils?.cartDetails?.items])}void 0!==_utils.cartDetails&&_utils.cartDetails.items.length===e.items.length||(_utils.cartDetails=e),window.bookeasy&&window.bookeasy.bookeasyWidget&&window.bookeasy.bookeasyWidget.getProductsWithBookeasyTimeStamp()},isSafari:function(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("Edg")&&!e.includes("Firefox")},createCustomEvent:function(e,t){try{let o=new CustomEvent(e,{detail:t});document.dispatchEvent(o)}catch(e){console.log("Error while creating custom event: ",e)}},preLoadImages:function(){["https://lb-apps-media.s3.us-east-1.amazonaws.com/bookeasy-media/empty-state.png","https://lb-apps-media.s3.us-east-1.amazonaws.com/bookeasy-media/confirmation.gif"].forEach((e=>{(new Image).src=e}))},checkForIntegratedApps:(e,t)=>!(!window?.lbShopDomain||"true"!=t.getAttribute("listener")&&"true"!=t.getAttribute("lb-atc-listener"))||!("boolean"!=typeof bookeasyPreventATCClick||!bookeasyPreventATCClick),isMobile:function(){return window.innerWidth<768},getTheProductDetails:function(e){return new Promise(((t,o)=>{fetch(`/api/${config.STOREFRONT_API_VERSION}/graphql.json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n                      query GetVariantsByIds($ids: [ID!]!) {\n                        nodes(ids: $ids) {\n                          ... on ProductVariant {\n                            id\n                            title\n                            price {\n                              amount\n                              currencyCode\n                            }\n                            compareAtPrice {\n                              amount\n                              currencyCode\n                            }\n                            image {\n                              altText\n                              url\n                            }\n                            quantityRule {\n                                increment\n                                minimum\n                                maximum\n                            }\n                            availableForSale\n                            product {\n                              id\n                              title\n                              handle\n                            }\n                          }\n                        }\n                      }",variables:{ids:e.map((e=>`gid://shopify/ProductVariant/${e}`))}})}).then((e=>e.json())).then((e=>t(e?.data?.nodes?.map((e=>({productId:e?.product?.id?.split("/")?.pop(),variantId:e?.id?.split("/")?.pop(),productTitle:e?.product?.title,variantTitle:e?.title,variantPrice:e?.price,variantComparePrice:e?.compareAtPrice,variantQuantityRule:e?.quantityRule,variantAvailableForSale:e?.availableForSale,url:"https://"+Shopify.shop+"/products/"+e?.product?.handle+"?variant="+e?.id?.split("/")?.pop(),variantImage:e?.image,productHandle:e?.product?.handle})))))).catch((e=>{console.log("Error while getting product details: ",e),o(e)}))}))},invokeIntegrationFunctions:function(e,t,o,a=!1){let i,n=!1;if(window?.lbHandlers&&"function"==typeof window?.lbHandlers?.action){if(!document.querySelector(".bookeasy-integration-div")){let a=document.createElement("div");a.classList.add("bookeasy-integration-div"),a.onclick=()=>{_utils.addProduct(e,t,o,!0)},document.body.appendChild(a),window.lbHandlers.action(a,!0)}a||(n=!0)}if(window?.lbOrdereasyData){let e=document.querySelector('input[name="selling_plan"]')?.value;e&&(i=e)}else{let e=document.querySelectorAll(".purchase-option");if(e&&e.length)for(downPayOptionPurchaseOption of e){let e=downPayOptionPurchaseOption.querySelector('input[name="purchase_option"]');e&&e.checked&&(i=downPayOptionPurchaseOption.getAttribute("data-selling-plan"))}}return{sellingPlanId:i,preventAddProduct:n}},invokeImmediateModeAction:function(e=void 0){let t=_utils.getSetup()?.setup||{};if(e&&e.items&&e.items.length){_utils.bookingPayload=void 0,_utils.selectedDateAndTime=void 0;const e=new CustomEvent("closeBookeasyWidget");document.querySelector("bookeasy-widget").dispatchEvent(e);let o=_utils?.fromUrlRedirect||t?.details?.settings?.immediateModeRedirectTo;"cart"!==o&&o?"checkout"===o?setTimeout((()=>{window.location.replace("/checkout")}),1e3):"custom"===o&&(/^https?:\/\//i.test(t.details.settings.immediateModeCustomUrl)||(t.details.settings.immediateModeCustomUrl="http://"+t.details.settings.immediateModeCustomUrl),setTimeout((()=>{window.location.href=t.details.settings.immediateModeCustomUrl}),1e3)):setTimeout((()=>{window.location.replace("/cart")}),1e3),_utils.fromUrlRedirect=void 0}},getProductIdAndQuantity:function(e){if(_utils.bookeasyCustomSlotPriceProducts&&e>0){let t=Math.ceil(e);for(let e=Math.min(9,t);e>=1;e--)if(t%e==0)return{productId:_utils.bookeasyCustomSlotPriceProducts[e],quantity:t/e}}},formatSmartBookingListDetails:function(e,t,o){const a={};for(let i of e){let e=Number(o?.find((e=>e.variants?.includes(i.variantId)))?.maximumProductQuantityPerAppointment);a[i.productId]||(a[i.productId]={id:i.productId,title:i.productTitle,handle:i.productHandle,sortIndex:t?.selectedProducts?.find((e=>e.productId===i.productId))?.sortIndex,variants:[]}),a[i.productId].variants.push({id:i.variantId,title:i.variantTitle,price:{amount:parseFloat(i.variantPrice.amount),currencyCode:i.variantPrice.currencyCode},compareAtPrice:i.variantComparePrice?{amount:parseFloat(i.variantComparePrice.amount),currencyCode:i.variantComparePrice.currencyCode}:null,image:{url:i.variantImage?.url||null},quantity:{maximum:e||i.variantQuantityRule.maximum,minimum:i.variantQuantityRule.minimum,increment:i.variantQuantityRule.increment},availableForSale:i.variantAvailableForSale,url:i.url})}return Object.values(a)},renderSmartBookingList:function(e=!1,t=void 0,o="smartBookingList",a=void 0){let i=e;if("service"!==o&&"smartBookingList"!==o)return!1;_utils.getAvailableServices(Shopify.shop).then((e=>{let n="smartBookingList"===o?(e?.smartBookingLists||[]).filter((e=>e.isActive)):[e?.availableServices];if("smartBookingList"===o){let t=[];for(let o of e?.smartBookingLists||[]){const a=[];for(let t of o.selectedProducts||[]){const o=[];for(let a of t.variants||[]){const i=e?.availableServices?.find((e=>e.serviceId===a.serviceId&&e.productId===t.productId&&e.variants?.includes(a.variantId)));i&&o.push(a)}o.length>0&&a.push({...t,variants:o})}a.length>0&&t.push({...o,selectedProducts:a})}t.length>=0&&(n=t)}i&&n&&("smartBookingList"===o&&!e?.reachedLimit?.isSmartBookingListDisabled||"service"===o&&!e?.reachedLimit?.isDirectLinkDisabled)&&_utils.getTheProductDetails("smartBookingList"===o?n.find((e=>e.id===t))?.selectedProducts.flatMap((e=>e.variants?.map((e=>e.variantId)))):e?.availableServices?.filter((e=>e.serviceId===t))?.flatMap((e=>e.variants))).then((i=>{_utils.addSmartBookingListToBookeasyWidget(_utils.formatSmartBookingListDetails(i,"smartBookingList"===o?n.find((e=>e.id===t))?.selectedProducts:void 0,e?.availableServices),a,e)}));let r=document.querySelectorAll('.bookeasy-appBlock-smart-booking, [href*="bookeasy-type=service"], [href*="bookeasy-type=smartBookingList"]');if(r&&r.length&&n&&n.length&&(!e?.reachedLimit?.isSmartBookingListDisabled||!e?.reachedLimit?.isDirectLinkDisabled))for(let t of r){let o=t.getAttribute("data-display-type"),a="embed"===o?t.getAttribute("data-app-id"):new URLSearchParams(t?.getAttribute("data-popup-url"))?.get("bookeasy-id")||new URLSearchParams(t.href).get("bookeasy-id"),i=(n.find((e=>e.id===a&&e.isActive))||{}).selectedProducts?.flatMap((e=>e.variants?.map((e=>e.variantId))))||[],r=e?.availableServices?.filter((e=>e.serviceId===a))?.flatMap((e=>e.variants));t?.href?.includes("bookeasy-type=service")&&r&&r.length&&!e?.reachedLimit?.isDirectLinkDisabled?t.addEventListener("click",(o=>{o.preventDefault(),o.stopPropagation(),t.setAttribute("disabled",!0),_utils.getTheProductDetails(r).then((o=>{_utils.addSmartBookingListToBookeasyWidget(_utils.formatSmartBookingListDetails(o,void 0,e?.availableServices),void 0,e,t)}))})):(t&&"embed"===o&&i.length&&!e?.reachedLimit?.isSmartBookingListDisabled&&_utils.getTheProductDetails(i).then((o=>{t.innerHTML=`<bookeasy-smart-booking-list id="${a}"></bookeasy-smart-booking-list>`;let i=t.querySelector("bookeasy-smart-booking-list");i.products=_utils.formatSmartBookingListDetails(o,n.find((e=>e.id===a))?.selectedProducts,e?.availableServices),i.smartBookingListText={bookNowText:t.getAttribute("data-book-now-text"),viewFullDetailsText:t.getAttribute("data-view-full-details-text"),currentlyUnavailableText:t.getAttribute("data-currently-unavailable-text"),listTitle:t.getAttribute("data-list-title"),listTitleAlignment:t.getAttribute("data-list-title-alignment")},i.popup="popup"===t.getAttribute("data-display-type"),i.design=e?.appearance?.smartBookingList})),t&&["popup","link"].includes(o)&&i.length&&!e?.reachedLimit?.isSmartBookingListDisabled&&_utils.getTheProductDetails(i).then((i=>{t.innerHTML="popup"===o?`<button class="bookeasy-smart-booking-popup-btn" style="background-color: ${t.getAttribute("data-button-color")}; color: ${t.getAttribute("data-font-color")};">${t.getAttribute("data-book-now-text")||"Book Now"}</button>`:`<a href="${t.getAttribute("data-popup-url")}" class="bookeasy-smart-booking-link-btn">${t.getAttribute("data-book-now-text")||"Book Now"}</a>`,t.addEventListener("click",(o=>{o.preventDefault(),o.stopPropagation(),t.setAttribute("disabled",!0),_utils.addSmartBookingListToBookeasyWidget(_utils.formatSmartBookingListDetails(i,n.find((e=>e.id===a))?.selectedProducts,e?.availableServices),{bookNowText:t.getAttribute("data-book-now-text"),viewFullDetailsText:t.getAttribute("data-view-full-details-text"),currentlyUnavailableText:t.getAttribute("data-currently-unavailable-text"),listTitle:t.getAttribute("data-list-title")},e,t)}))})))}}))},addSmartBookingListToBookeasyWidget:function(e,t=void 0,o=void 0,a=void 0){if(a){const e=t=>{"datetimePickerLoaded"===t.detail?.type&&(a.setAttribute("disabled",!1),document.removeEventListener("bookeasyWidgetEvent",e))};document.addEventListener("bookeasyWidgetEvent",e)}let i=document.querySelector("bookeasy-widget"),n=document.querySelector(".bookeasy-widget-container-v2");n&&n.classList.remove("bookeasy-widget-hide"),i.input=void 0,i.smartBookingList=e,i.smartBookingListText=t,i.popup=!0,i.productCardDesign=o?.appearance?.smartBookingList,i.style.display="flex",document.body.style.overflow="hidden"},registerMomentJs:function(){const e=window.moment;let t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js",t.defer=!0,t.onload=function(){const t=window.moment;e?window.moment=e:delete window.moment,window.bookeasy.moment=t,window.moment=e||t;const o=window?.moment?.tz;let a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.47/moment-timezone-with-data-10-year-range.js",a.defer=!0,a.onload=function(){const e=window?.moment?.tz;o?window.moment.tz=o:delete window.moment.tz,window.bookeasy.momentTimezone=e,window.moment.tz=o||e},document.getElementsByTagName("head")[0].appendChild(a)},document.getElementsByTagName("head")[0].appendChild(t)},sendEvents:function(e,t={}){try{window?.gtag&&"function"==typeof window?.gtag&&window.gtag("event",e,t),window?.fbq&&"function"==typeof window?.fbq&&window.fbq("track",e,t)}catch(e){console.log("Error while sending events: ",e)}}};function getDealEasyAttributes(){let e=document.querySelectorAll("input#lb-dealeasy-qs-attribute"),t=[];return e&&e.length&&Array.from(e).forEach((e=>{if(e.name.includes("id")||e.name.includes("quantity")){let o=e.getAttribute("name"),a=e.value;o&&t.push({name:o,value:a})}})),t}function getDealEasyQuantity(e,t=void 0){let o=t||getDealEasyAttributes();if(o&&o.length){let t=null;for(let a of o)if(a.name&&a.name.includes("[id]")&&a.value===e){let e=a.name.match(/items\[(\d+)\]\[id\]/);if(e){t=parseInt(e[1]);break}}if(null!==t){let e=o.find((e=>e.name===`items[${t}][quantity]`));if(e){let t=parseInt(e.value);return quantity=t,t}}}return 0}function isFreeServiceEnabled(e,t){let o=e?.freeServiceFields||t?.details?.settings?.freeServiceFields||{};return e.isFreeService&&(o.isFirstNameEnabled||o.isLastNameEnabled||o.isEmailEnabled||o.isPhoneNoEnabled)}async function getResponseFromRequest(e,t){let o;if("fetch"===e){const e=t.headers.get("content-length"),a=t.headers.get("content-type");if("0"!==e&&a&&(a.includes("application/json")||a.includes("text/javascript")))try{o=await(t?.clone()?.json())}catch(e){console.log("Error while parsing fetch response: ",e)}}else if("xml"===e&&t?.responseText&&t?.responseText?.trim())try{o=JSON.parse(t?.responseText)}catch(e){console.log("Error while parsing XMLHttpRequest response: ",e)}return o}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}var __webpack_exports__={};!function(e){const t=__webpack_require__(462),o=__webpack_require__(809),a=__webpack_require__(395),i=__webpack_require__(503),n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};let r,s,d,l,c,u,p,m,g,y,b;var v=!1;let h=[];function f(e,o,a){const i=a(e.detail||void 0);if(e.detail?.ignoreSlotsFetch)return;document.querySelector("bookeasy-widget").internalLoading=!0;const r=e&&e.detail&&e.detail.month?e.detail.month:n[(new Date).getMonth()],s=e&&e.detail&&e.detail.date?e.detail.date:new Date,d=e&&e.detail&&e.detail.year?e.detail.year:(new Date).getFullYear();t.getSetupAndService(P,r,d,s.valueOf(),!1,i.teamId,i.locationId).then((e=>{e&&e.slots&&t.updateSlotsInBookeasyWidget(e)}))}function k(e=!1,o=void 0){let a=(i=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+i()+i()+i()+i()+i();var i;let n=t.getSetup()?.setup||{},v=t.getSetup()?.service||{},f=o?.quantity||t.getProductQuantity()||1,k=v?.isMultiDayserviceEnabled,S=v?.increaseProductPrice,T=v?.isSingleDayChargeEnabled,w=v?.multipliedProductPrice,P="bundle"===v?.bookingType,A=0,_=n&&n.details&&n.details.settings&&n.details.settings.timezone?n.details.settings.timezone:void 0;if(m&&m.id){let e=n&&n.details&&n.details.locations&&n.details.locations.length?n.details.locations.find((e=>e.id===m.id)):void 0;e&&(_=e.timezone?e.timezone:"Asia/Kabul",n?.details?.settings?.isSlotsSetupFromOptionEnabled&&v.isSetupFrom&&(n.details.settings.isPredefinedSlotsEnabled?"location"===v.isSetupFrom.preDefinedSlots:"location"===v.isSetupFrom.availability)&&(k=e.isMultiDayserviceEnabled,S=e.increaseProductPrice,T=e.isSingleDayChargeEnabled,w=e.multipliedProductPrice,P="bundle"===e.bookingType))}k&&(S||w)&&(A=r.split(" , ").length,A<=0&&(A=1),T&&A>1&&(A-=1),S&&(f=A));let L=n?.details?.settings?.isAutomaticTimezoneDetectionEnabled&&!k;return{payload:{date:r,time:s,bundleSlots:h,location:m?m.values[0]:void 0,locationId:m?m.id:void 0,teamMember:g?g.values[0]:void 0,teamMemberId:g?g.id:void 0,translatedDate:d,translatedTime:l,convertedDate:L?c:void 0,convertedTimeSlot:L?u:void 0,customInfo:y,freeServiceFields:b,id:a,isFreeService:e,withoutShopifyOrder:v?.withoutShopifyOrder||void 0,serviceId:v.id||void 0,serviceName:v.name||void 0,serviceBy:v.serviceBy||void 0,timezone:_||void 0,selectedTimezone:L?p:void 0,productId:t.selectedProductId?t.selectedProductId:void 0,variantId:t.selectedVariantId?t.selectedVariantId:void 0,productName:t.selectedProductName?t.selectedProductName:void 0,variantName:t.selectedVariantName?t.selectedVariantName:void 0,productPrice:t.selectedProductPrice?t.selectedProductPrice:0,appLoadTimeStamp:(new Date).valueOf(),googleCalendarId:v?.googleCalendarId||void 0,userAgent:navigator&&navigator.userAgent?navigator.userAgent:void 0,increaseProductQuantity:!(!S||!A)||void 0,isMultiDayserviceEnabled:k,multipliedProductPrice:!(!w||!A)||void 0,productQuantity:Number(f),currentLocale:t.getCurrentLocale(),isBundleBookingEnabled:P,googleCalendarId:v?.googleCalendarId||void 0,isSingleDayChargeEnabled:T},isMultiDayserviceEnabled:k,increaseProductPrice:S,multipliedProductPrice:w,isSingleDayChargeEnabled:T,productQuantity:f,timezone:_,recaptchaId:n?.id,bookingId:a,maximumProductQuantityPerAppointment:v?.maximumProductQuantityPerAppointment||void 0}}function S(e,t){if(e===t)return 0;let o=new Date(e),a=new Date(t),i=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()),n=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());return Math.floor((n-i)/864e5)}function T(){let o=document.createElement("bookeasy-widget");document.body.appendChild(o),function(){let o=document.querySelector("bookeasy-widget");o&&(o.addEventListener("locationUpdate",(function(e){f(e,0,(e=>(m=e,t.selectedLocation=e,{teamId:e?.teamMemberId,locationId:e?.id})))})),o.addEventListener("teamUpdate",(function(e){f(e,0,(e=>(g=e,{teamId:e?.id,locationId:e?.locationId})))})),o.addEventListener("slotUpdate",(function(e){t.selectedDateAndTime=e.detail,r=e.detail.date?e.detail.date.length>1?e.detail.date.join(" , "):e.detail.date[0]:void 0,s=e.detail.timeSlot?e.detail.timeSlot:void 0,d=e.detail.translatedDate?e.detail.translatedDate.length>1?e.detail.translatedDate.join(" , "):e.detail.translatedDate[0]:void 0,l=e.detail.translatedTimeSlot?e.detail.translatedTimeSlot:void 0,u=e.detail.convertedTranslatedTimeSlot||e.detail.convertedTimeSlot,c=e.detail.convertedDate?e.detail.convertedDate.length>1?e.detail.convertedDate.join(" , "):e.detail.convertedDate?.[0]:void 0,p=e.detail.selectedTimezone?e.detail.selectedTimezone:void 0})),o.addEventListener("bundleSlotsUpdate",(function(e){t.selectedDateAndTime=e.detail,h=e.detail})),o.addEventListener("customDetailsUpdate",(function(e){y=e.detail?e.detail:void 0})),o.addEventListener("freeServiceFieldsUpdate",(function(e){b=e.detail?e.detail:void 0})),o.addEventListener("addToCartUpdate",(function(o){let n=t.getSetup()?.setup||{},p=k(!1,o.detail);t.verifyDateAndTime(P,p?.payload).then((o=>{if("true"===o)if(t.bookingPayload=p?.payload,t.selectedVariantId&&n&&n.details&&n.details.settings&&(n.details.settings.isImmediateModeEnabled||t?.fromUrlRedirect))t.saveBookingDetails(Shopify.shop,p?.payload).then((o=>{if(o){t.sendEvents("bookeasy_widget_closed",{current_page:e?.location?.href});let o=1,a={Date:c||r,Time:u||s,Location:m?m.values[0]:void 0,"Team Member":g?g.values[0]:void 0,"_bookeasy-original-date":r,"_bookeasy-original-time":s,"_bookeasy-booking-id":p?.bookingId,"_bookeasy-app-loaded-timestamp":(new Date).valueOf()};p?.maximumProductQuantityPerAppointment&&""!==p?.maximumProductQuantityPerAppointment&&(a["_bookeasy-maximum-quantity-per-session"]=Number(p?.maximumProductQuantityPerAppointment));let i=p?.isMultiDayserviceEnabled,y=p?.increaseProductPrice,b=p?.isSingleDayChargeEnabled,v=p?.multipliedProductPrice;if(n?.details?.settings?.showTranslatedDate&&(a["Translated Date"]=d),n?.details?.settings?.showTranslatedTime&&(a["Translated Time"]=l),i&&(y||v)&&r?.split(" , ").length>1){let e=r.split(" , ").length;e<=0&&(e=1),b&&e>1&&(e-=1),o=y?e:v?e*(p?.payload?.productQuantity||t.getProductQuantity()):p?.payload?.productQuantity||t.getProductQuantity(),a["_bookeasy-custom-price-product"]=!0}else o=p?.payload?.productQuantity||t.getProductQuantity();p?.payload?.isBundleBookingEnabled&&h?.length&&(delete a.Date,delete a.Time,delete a["_bookeasy-original-date"],delete a["_bookeasy-original-time"],a["_bookeasy-bundle-slots"]=h?.length,h.forEach(((e,t)=>{a[`Date #${t+1}`]=e.convertedDate?.[0]||e.translatedDate?.[0],a[`Time #${t+1}`]=e.convertedTimeSlot||e.translatedTimeSlot}))),a["_bookeasy-product-quantity"]=o||1,t.addProduct(t.selectedVariantId,a,Number(o)),t.sendEvents("bookeasy_product_added_to_cart",{current_page:e?.location?.href,booking_id:p?.bookingId})}else document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while creating booking.")})).catch((e=>{console.log("Error while creating booking: ",e),document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while creating booking.")}));else{t.sendEvents("bookeasy_widget_closed",{current_page:e?.location?.href});let o=`\n                            <div id="bookeasy-product-properties"> \n                                ${c||r?t.getProductPropertyHTML("bookeasy-date","Date",c||r):""}\n                                ${u||s?t.getProductPropertyHTML("bookeasy-time","Time",u||s):""}\n                                ${c?t.getProductPropertyHTML("bookeasy-original-date","_bookeasy-original-date",r):""}\n                                ${u?t.getProductPropertyHTML("bookeasy-original-time","_bookeasy-original-time",s):""}\n                                ${n?.details?.settings?.showTranslatedDate?t.getProductPropertyHTML("bookeasy-translated-date","Translated Date",d):""}\n                                ${n?.details?.settings?.showTranslatedTime?t.getProductPropertyHTML("bookeasy-translated-time","Translated Time",l):""}\n                                ${m?t.getProductPropertyHTML("bookeasy-location","Location",m.values[0]):""}\n                                ${g?t.getProductPropertyHTML("bookeasy-team-member","Team Member",g.values[0]):""}\n                                ${p?.payload?.isBundleBookingEnabled&&h?.length?t.getBundleSlotsHTML(h):""}\n                                ${t.getProductPropertyHTML("bookeasy-booking-id","_bookeasy-booking-id",p?.bookingId)}\n                            </div>`,i=a.getProductCartAddForms();if(i&&i.length){a.removeProductProperties();let e=!1;for(let a of i)a.getAttribute("bookeasy-form-id")===t.selectedProductId&&(e=!0,a.insertAdjacentHTML("beforeend",o));e||i[0].insertAdjacentHTML("beforeend",o)}let y=document.querySelectorAll(".bookeasy-btn");if(y&&y.length){let e=u||l;if(e&&n&&n.details&&n.details.settings&&n.details.settings.hideEndTime&&(e=e.split("-")[0]),d&&d.includes(" , ")){let e=c?c.split(" , "):d.split(" , "),o=!0;if(e.length){let e=c?c.split(" , "):r.split(" , ");for(let t=0;t<e.length-1;t++){let a=S(e[t],e[t+1]);a&&a>1&&(o=!1)}}o&&e.length>1?d=e[0]+" - "+e[e.length-1]:!o&&e.length>1&&(d=t?.appearance?.multiDayButtonText?t?.appearance?.multiDayButtonText.replace("{{count}}",e.length):`${e.length} days selected`)}for(let o of y)if(o.getAttribute("data-product-id")===t.selectedProductId){let a=o.querySelector(".bookeasy-button-text");a&&(a.innerText=p?.payload?.isBundleBookingEnabled&&h?.length?t?.appearance?.bundleSlotsButtonText?t?.appearance?.bundleSlotsButtonText.replace("{{count}}",h.length):`${h.length} slots selected`:e?`${d} | ${e}`:`${d}`)}}const b=new CustomEvent("closeBookeasyWidget");document.querySelector("bookeasy-widget").dispatchEvent(b),t.makeBookeasyBtnOptional&&(t.isCompletedProcess=!0)}else{t.updateSetupAndSlotsInBookeasyWidget(P);const e=new CustomEvent("showBookeasyToast");document.querySelector("bookeasy-widget").dispatchEvent(e)}})).catch((e=>{console.log("Error while validating date and time: ",e),document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while validating date and time.")}))})),o.addEventListener("freeServiceUpdate",(function(o){let a=k(!0,o.detail);e.grecaptcha&&a?.recaptchaId&&(r||h?.length)&&grecaptcha.enterprise.execute(a?.recaptchaId,{action:"LOGIN"}).then((o=>{t.verifyDateAndTime(P,a?.payload).then((n=>{if("true"===n)t.saveBookingDetails(P,a?.payload,o).then((o=>{if(o?.message)document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("showBookeasyToast",{detail:{message:o?.message}}));else{t.sendEvents("bookeasy_widget_closed",{current_page:e?.location?.href}),t.sendEvents("bookeasy_booking_created",{current_page:e?.location?.href,booking_id:a?.bookingId}),t.isProceedAddToCart=!1;const o=new CustomEvent("proceedToThankyouPage");document.querySelector("bookeasy-widget").dispatchEvent(o)}})).catch((e=>{console.log("Error while create booking reservation: ",e),document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while creating booking reservation.")}));else{t.updateSetupAndSlotsInBookeasyWidget(P);const e=new CustomEvent("showBookeasyToast");document.querySelector("bookeasy-widget").dispatchEvent(e)}})).catch((e=>{console.log("Error while verify date and time: ",e),document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while verifying date and time.")}))})).catch((e=>{console.log("Error while getting grecaptcha token: ",e),document.querySelector("bookeasy-widget").dispatchEvent(new CustomEvent("closeBookeasyWidget")),i.bookeasyErrorMessage("Error while getting grecaptcha token.")}))})),o.addEventListener("nextMonthSlots",(function(e){let o=e&&e.detail&&e.detail.month?e.detail.month:n[(new Date).getMonth()],a=e&&e.detail&&e.detail.date?e.detail.date:new Date,i=e&&e.detail&&e.detail.year?e.detail.year:(new Date).getFullYear(),r=e&&e.detail&&e.detail.teamMemberId?e.detail.teamMemberId:void 0,s=e&&e.detail&&e.detail.locationId?e.detail.locationId:void 0;document.querySelector("bookeasy-widget").internalLoading=!0,t.getSetupAndService(P,o,i,a.valueOf(),!1,r,s).then((e=>{if(e&&e.slots){let t=document.querySelector("bookeasy-datetime-picker")||document.querySelector("bookeasy-datetime-picker-v2");t&&(t.slots=e.slots),document.querySelector("bookeasy-widget").internalLoading=!1}}))}))),e.addEventListener("bookeasyWidgetEvent",(function(e){if("widgetClosed"===e.detail.type){let e=document.querySelector("bookeasy-widget");e.input=void 0,e.smartBookingList=void 0,e.smartBookingListText=void 0}else if("bookNowClicked"===e.detail.type){let o={variantId:e.detail.data.variantId,productId:e.detail.data.productId,productTitle:e.detail.data.productTitle,variantTitle:e.detail.data.variantTitle,variantPrice:e.detail.data.variantPrice,productHandle:e.detail.data.productHandle,quantity:e.detail.data.quantity};t.setProductDetailsFromUrl(o,!0,"cart","smart-booking-list")}}))}()}function w(){v||(v=!0,function(){let e=".bookeasy-reservation-timer-container{position: fixed; color: white; top: 92%; left:50%; transform: translate(-50%, -50%); display: flex; height: 50px; justify-content: center; z-index: 999;}";e+=".bookeasy-reservation-timer-content{ background: #eeeeee; width: 400px; display: flex; justify-content: center; align-items: center; padding: 30px; z-index: 999; border-radius: 8px; }",e+=".bookeasy-reservation-timer{display: flex; margin: 10px; }",e+=".bookeasy-reservation-timer-minutes-container, .bookeasy-reservation-timer-seconds-container {display: flex; flex-direction: column; margin: 10px;}",e+=".bookeasy-reservation-timer-minutes, .bookeasy-reservation-timer-seconds{text-align: center; font-size: 25px; font-weight: bold; }",e+=".bookeasy-reservation-timer-minutes{ margin-left: 7px;}",e+=".bookeasy-reservation-timer-message { font-size: 16px; color: black; margin-bottom: 7px; font-family: auto;}",e+=".bookeasy-reservation-timer-semi-colon {margin: 0px 5px; font-size: 25px;}",e+=".bookeasy-removed-product-toast-container{position: fixed; top: 85%; width: 100%; height: 80px; display: flex; justify-content: center; z-index: 999999; -webkit-animation: fadein 0.5s, fadeout 0.5s 3.0s; animation: fadein 0.5s, fadeout 0.5s 3.0s;}",e+=".bookeasy-removed-product-toast-content{background: #eeeeee; width: auto; padding-inline: 20px; display: flex; border-radius: 8px; justify-content: center; align-items: center; z-index: 999999;}",e+=".bookeasy-removed-product-toast-message{font-weight: bold; font-size: 18px; font-family: auto;}",e+=".bookeasy-smart-booking-popup-btn{width: fit-content; height: auto; border: 1px solid #000; color: #000; padding: 10px; background: transparent; cursor: pointer;}",e+=".bookeasy-removed-product-toast-message-close {display: flex; margin-left: 5px; cursor: pointer;}",e+='.bookeasy-button-loading::after { content: ""; display: inherit; position: relative; width: 20px; height: 20px; top: 0; left: 0; right: 0; bottom: 0; margin: auto; border: 3px solid transparent; border-top-color: black; border-radius: 50%; animation: bookeasy-button-loading-spinner 1s ease infinite;}',e+=".bookeasy-button-text.hidden{  visibility: hidden; opacity: 0;}",e+="bookeasy-smart-booking-list{width: 100%; height: 100%; overflow: auto; scrollbar-width: none;}",e+="@keyframes bookeasy-button-loading-spinner { from { transform: rotate(0turn);} to { transform: rotate(1turn); }}",e+="@-webkit-keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;}}",e+="@keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;}}",e+="@-webkit-keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;}}",e+="@keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;}}",e+="@media only screen and (max-width: 600px) {.bookeasy-reservation-timer-content{ width: 350px; }.bookeasy-reservation-timer-message{font-size: 15px;}.bookeasy-removed-product-toast-message{font-size: 14px;}.bookeasy-removed-product-toast-content{width: 350px;}}",e+=".grecaptcha-badge { display: none !important }";let t=document.getElementById("bookeasy-styles");t&&(t.disabled=!0,t.parentNode.removeChild(t));var o=document.createElement("style");o.id="bookeasy-styles",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(o)}(),function(){if(!e.location.pathname.includes("/account/")&&"/challenge"!==e.location.pathname){let e="https://www.google.com/recaptcha/enterprise.js?render=6LdEwsYnAAAAAL9T92sOraT4CDI-QIVuDYAGwdOy",t="https://www.google.com/recaptcha/enterprise.js?render=6LeHG2ApAAAAAO4rPaDW-qVpPKPOBfjbCpzJB9ey",o=document.createElement("script");o.src=e,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o);let a=document.createElement("script");a.src=t,a.defer=!0,document.getElementsByTagName("head")[0].appendChild(a)}}(),function(){let e=document.createElement("script");e.src="https://unpkg.com/libphonenumber-js@1.11.9/bundle/libphonenumber-max.js",e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e)}(),t.registerMomentJs(),t.renderSmartBookingList(),t.urlListener(e.location.href),t.bookingLinkElementListener(),function(e){document.querySelectorAll(".bookeasy-appBlock-button").forEach((function(t){t?.getAttribute("serviceId")&&""!==t.getAttribute("serviceId")&&o.bookeasyWidgetLib().render(e,void 0,void 0,void 0,void 0,t)}))}(P),o.bookeasyWidgetLib().render(P),function(){let e=new URLSearchParams(document.location.href.split("?")[1]).get("variant"),t=document.querySelector("body");new MutationObserver((function(t){t.forEach((function(t){e!=new URLSearchParams(document.location.href.split("?")[1]).get("variant")&&(e=new URLSearchParams(document.location.href.split("?")[1]).get("variant"),r=void 0,g=void 0,d=void 0,l=void 0,m=void 0,user=void 0,y=void 0,o.bookeasyWidgetLib().render(P))}))})).observe(t,{childList:!0,subtree:!0,attributes:!0})}(),T(),t.registerListeners(),t.preLoadImages(),o.bookeasyWidgetLib().getProductsWithBookeasyTimeStamp())}void 0===e.bookeasy&&(e.bookeasy={pathname:void 0,bookeasyWidget:o.bookeasyWidgetLib()});const P=Shopify?Shopify.shop:void 0;P?"complete"===document.readyState||"interactive"===document.readyState?w():(document.addEventListener("readystatechange",(()=>{"complete"!==document.readyState&&"interactive"!==document.readyState||w()})),document.addEventListener("DOMContentLoaded",(function(){w()}))):console.log("myShopifyDomain not found")}(window)})();